# 集群

## 节点

Elasticsearch的节点主要有以下几种类型：

1. Master-eligible：可以参加选主流程，成为Master节点。节点启动后模式就是Master-eligible节点。
2. Master：负责维护集群的状态，包括所有的节点信息、分片的路由、索引的信息。只有Master节点才能修改集群的状态。
3. Data：负责数据存储。
4. Coordinating：负责接收客户端的请求，并把请求分发到合适的节点并对结果进行汇总，我们可以把这种节点看作是代理，默认情况下每个节点都是Coordinating节点。

## 分片

分片可以分为以下两种类型：

1. 主分片（Shard）：把数据分散到不同节点上，分片的数量在创建索引时指定，后续不能修改，除非重建索引（Reindex）。
2. 副本（Replica）：副本是主分片的拷贝，提高可用性，副本的数量可以动态调整。
